
!function (n) { "object" == typeof exports && "undefined" != typeof module ? module.exports = n() : "function" == typeof define && define.amd ? define([], n) : ("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this).mykad = n() }(function () { return function e(o, u, i) { function c(r, n) { if (!u[r]) { if (!o[r]) { var t = "function" == typeof require && require; if (!n && t) return t(r, !0); if (a) return a(r, !0); throw (n = new Error("Cannot find module '" + r + "'")).code = "MODULE_NOT_FOUND", n } t = u[r] = { exports: {} }, o[r][0].call(t.exports, function (n) { return c(o[r][1][n] || n) }, t, t.exports, e, o, u, i) } return u[r].exports } for (var a = "function" == typeof require && require, n = 0; n < i.length; n++)c(i[n]); return c }({ 1: [function (n, r, t) { "use strict"; var e = "SOUTHEAST_ASIA", o = "EAST_ASIA", u = "SOUTH_ASIA", i = "MIDDLE_EAST", c = { JHR: ["01", "21", "22", "24"], KDH: ["02", "25", "26", "27"], KTN: ["03", "28", "29"], MLK: ["04", "30"], NSN: ["05", "31", "59"], PHG: ["06", "32", "33"], PNG: ["07", "34", "35"], PRK: ["08", "36", "37", "38"], PLS: ["09", "40"], SGR: ["10", "41", "42", "43", "44"], TRG: ["11", "45", "46"], SBH: ["12", "47", "48", "49"], SWK: ["13", "50", "51", "52", "53"], KUL: ["14", "54", "55", "56", "57"], LBN: ["15", "58"], PJY: ["16"], UNKNOWN_STATE: ["82"] }, a = { 60: { country: "BN", region: e }, 61: { country: "ID", region: e }, 62: { country: "KH", region: e }, 63: { country: "LA", region: e }, 64: { country: "MM", region: e }, 65: { country: "PH", region: e }, 66: { country: "SG", region: e }, 67: { country: "TH", region: e }, 68: { country: "VN", region: e }, 71: { country: "FOREIGN_UNKNOWN", region: null }, 72: { country: "FOREIGN_UNKNOWN", region: null }, 74: { country: "CN", region: o }, 75: { country: "IN", region: u }, 76: { country: "PK", region: u }, 77: { country: "SA", region: i }, 78: { country: "LK", region: u }, 79: { country: "BD", region: u }, 83: { country: "AS|AU|CX|CC|CK|FJ|PF|GU|HM|MH|FM|NC|NZ|NU|NF|PG|TL|TK|UM|WF", region: "OCEANIA" }, 84: { country: "AI|AR|AW|BO|BR|CL|CO|EC|GF|GP|GY|PY|PE|GS|ST|UY|VE", region: "SOUTH_AMERICA" }, 85: { country: "DZ|AO|BW|BI|CM|CF|CG|CD|DG|EG|ER|ET|GA|GM|GN|KE|LR|MW|ML|MR|YT|MA|MZ|NA|NE|NG|RW|RE|SN|SL|SO|SD|SZ|TZ|TG|TO|TN|UG|ME|ZR|ZM|ZW", region: "AFRICA" }, 86: { country: "AM|AT|BE|CY|DK|FO|FR|FI|DE|DD|GR|VA|IT|LU|MK|MT|MC|NL|NO|PT|MD|SK|SI|ES|SE|CH|GG|JE|IM", region: "EUROPE" }, 87: { country: "GB|IE", region: "BRITISH_ISLES" }, 88: { country: "BH|IR|IQ|PS|JO|KW|OM|QA|YE|SY|TR|YE|YD|", region: i }, 89: { country: "JP|KP|KR|TW", region: o }, 90: { country: "BS|BB|BZ|CR|CU|DM|DO|SV|GD|GT|HT|HN|JM|MQ|MX|NI|PA|PR|KN|LC|VC|TT|TC|VI", region: "MIDDLE_AMERICA" }, 91: { country: "CA|GL|AN|PM|US", region: "NORTH_AMERICA" }, 92: { country: "AL|BY|BA|BG|HR|CZ|CS|EE|GE|HU|LV|LT|ME|PL|XK|RO|RU|RS|UA", region: "SOVIET_REPUBLIC" }, 93: { country: "AF|AD|AQ|AG|AZ|BJ|BM|BT|IO|BF|CV|KY|KM|DY|GQ|TF|GI|GW|HK|IS|CI|KZ|KI|KG|LS|LY|LI|MO|MG|MV|MU|MN|MS|NR|NP|MP|PW|PS|PN|SH|LC|VC|WS|SM|ST|SC|SB|SJ|TJ|TM|TV|HV|UZ|VU|VA|VG|YU", region: "MISCELLANEOUS" }, 98: { country: "STATELESS", region: null }, 99: { country: "UNSPECIFIED", region: null } }; function f(n, r, t) { return (n - r) * (n - t) <= 0 } function l(n) { return f(n, 1, 16) || f(n, 21, 59) || 82 == n } function g(n) { return null != a[n] } function S(n) { return { region: e, country: "MY", state: (r = n, Object.keys(c).find(function (n) { return c[n].includes(r) })) }; var r } r.exports = { parse: function (n) { return l(n) ? S(n) : g(n) ? Object.assign({ state: null }, a[n]) : null }, isValid: function (n) { return l(n) || g(n) } } }, {}], 2: [function (n, r, t) { "use strict"; var e = n("./birthplace"), n = n("./random"); function o(n, r, t) { var e = new Date, n = new Date(n, r - 1, t), o = e.getYear() - n.getYear(); return (100 < o || 100 == o && (o = n, e = e, new Date(0, o.getMonth(), o.getDate()) < new Date(0, e.getMonth(), e.getDate()))) && n.setFullYear(n.getFullYear() + 100), n.getDate() == t && n.getMonth() == r - 1 ? n : NaN } function u(n) { n = n.match(/^(\d{2})(\d{2})(\d{2})-?(\d{2})-?(\d{3})(\d{1})$/); if (n) return n; throw new Error("Invalid MyKad number format") } function i(n, r) { var t; try { t = u(n) } catch (n) { if (r) return r(n, null); throw n } n = "".concat(t[1]).concat(t[2]).concat(t[3], "-").concat(t[4], "-").concat(t[5]).concat(t[6]); return r ? r(null, n) : n } r.exports = { isValid: function (n) { var r; try { r = u(n) } catch (n) { return !1 } return n = o(r[1], r[2], r[3]), !isNaN(n) && e.isValid(r[4]) }, parse: function (n, r) { var t; try { t = u(n) } catch (n) { if (r) return r(n, null); throw n } return n = { birthDate: o(t[1], t[2], t[3]), birthPlace: e.parse(t[4]), gender: t[6] % 2 == 0 ? "female" : "male" }, r ? r(null, n) : n }, format: i, unformat: function (n, t) { if (!t) try { return i(n).replace(/-/g, "") } catch (n) { throw n } i(n, function (n, r) { return n ? t(n, null) : t(null, r.replace(/-/g, "")) }) }, generateRandom: n.generateRandom } }, { "./birthplace": 1, "./random": 3 }], 3: [function (n, r, t) { "use strict"; var e = n("./birthplace"); function o(n, r) { return Math.floor(Math.random() * (r - n + 1)) + n } function u(n) { return ("0" + n).slice(-2) } r.exports = { generateRandom: function () { return n = new Date, (r = new Date).setFullYear(r.getFullYear() - 99), n = new Date(r.getTime() + Math.random() * (n.getTime() - r.getTime())), r = "", (r += n.getFullYear().toString().substr(2, 2)) + u(n.getMonth() + 1) + u(n.getDate()) + function () { for (var n; n = u(o(1, 99)), !e.isValid(n);); return n }() + function () { for (var n = "", r = 0; r < 4; r += 1)n += o(0, 9); return n }(); var n, r } } }, { "./birthplace": 1 }] }, {}, [2])(2) });
